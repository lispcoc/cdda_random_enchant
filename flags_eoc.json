[
  {
    "type": "effect_on_condition",
    "effect": [
      {
        "switch": { "math": [ "_rank" ] },
        "cases": [
          { "case": 1, "effect": { "set_string_var": "random_enchant_ZOMBIE_KILLER_1", "target_var": { "var_val": "target" } } },
          {
            "case": 2,
            "effect": { "set_string_var": "random_enchant_ZOMBIE_KILLER_2", "target_var": { "var_val": "target" } }
          },
          {
            "case": 3,
            "effect": { "set_string_var": "random_enchant_ZOMBIE_KILLER_3", "target_var": { "var_val": "target" } }
          }
        ]
      }
    ],
    "id": "EOC_random_enchant_lottery[ZOMBIE_KILLER]"
  },
  {
    "type": "effect_on_condition",
    "effect": [
      {
        "switch": { "math": [ "_rank" ] },
        "cases": [
          { "case": 1, "effect": { "set_string_var": "random_enchant_FLIGHT_KILLER_1", "target_var": { "var_val": "target" } } },
          {
            "case": 2,
            "effect": { "set_string_var": "random_enchant_FLIGHT_KILLER_2", "target_var": { "var_val": "target" } }
          },
          {
            "case": 3,
            "effect": { "set_string_var": "random_enchant_FLIGHT_KILLER_3", "target_var": { "var_val": "target" } }
          }
        ]
      }
    ],
    "id": "EOC_random_enchant_lottery[FLIGHT_KILLER]"
  },
  {
    "type": "effect_on_condition",
    "effect": [
      {
        "switch": { "math": [ "_rank" ] },
        "cases": [
          { "case": 1, "effect": { "set_string_var": "random_enchant_DRAIN_HP_1", "target_var": { "var_val": "target" } } },
          {
            "case": 2,
            "effect": { "set_string_var": "random_enchant_DRAIN_HP_2", "target_var": { "var_val": "target" } }
          },
          {
            "case": 3,
            "effect": { "set_string_var": "random_enchant_DRAIN_HP_3", "target_var": { "var_val": "target" } }
          }
        ]
      }
    ],
    "id": "EOC_random_enchant_lottery[DRAIN_HP]"
  },
  {
    "type": "effect_on_condition",
    "effect": [
      {
        "switch": { "math": [ "_rank" ] },
        "cases": [
          { "case": 1, "effect": { "set_string_var": "random_enchant_DRAIN_MANA_1", "target_var": { "var_val": "target" } } },
          {
            "case": 2,
            "effect": { "set_string_var": "random_enchant_DRAIN_MANA_2", "target_var": { "var_val": "target" } }
          },
          {
            "case": 3,
            "effect": { "set_string_var": "random_enchant_DRAIN_MANA_3", "target_var": { "var_val": "target" } }
          }
        ]
      }
    ],
    "id": "EOC_random_enchant_lottery[DRAIN_MANA]"
  },
  {
    "type": "effect_on_condition",
    "effect": [
      {
        "switch": { "math": [ "_rank" ] },
        "cases": [
          { "case": 1, "effect": { "set_string_var": "random_enchant_STOP_TIME_1", "target_var": { "var_val": "target" } } },
          {
            "case": 2,
            "effect": { "set_string_var": "random_enchant_STOP_TIME_2", "target_var": { "var_val": "target" } }
          },
          {
            "case": 3,
            "effect": { "set_string_var": "random_enchant_STOP_TIME_3", "target_var": { "var_val": "target" } }
          }
        ]
      }
    ],
    "id": "EOC_random_enchant_lottery[STOP_TIME]"
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_random_enchant_set_flag_before",
    "effect": [
      {
        "if": { "npc_has_flag": "random_enchant_ZOMBIE_KILLER_1" },
        "then": [ { "math": [ "u_random_enchant_ZOMBIE_KILLER_1", "=", "1" ] } ],
        "else": [ { "math": [ "u_random_enchant_ZOMBIE_KILLER_1", "=", "0" ] } ]
      },
      {
        "if": { "npc_has_flag": "random_enchant_ZOMBIE_KILLER_2" },
        "then": [ { "math": [ "u_random_enchant_ZOMBIE_KILLER_2", "=", "1" ] } ],
        "else": [ { "math": [ "u_random_enchant_ZOMBIE_KILLER_2", "=", "0" ] } ]
      },
      {
        "if": { "npc_has_flag": "random_enchant_ZOMBIE_KILLER_3" },
        "then": [ { "math": [ "u_random_enchant_ZOMBIE_KILLER_3", "=", "1" ] } ],
        "else": [ { "math": [ "u_random_enchant_ZOMBIE_KILLER_3", "=", "0" ] } ]
      },
      {
        "if": { "npc_has_flag": "random_enchant_FLIGHT_KILLER_1" },
        "then": [ { "math": [ "u_random_enchant_FLIGHT_KILLER_1", "=", "1" ] } ],
        "else": [ { "math": [ "u_random_enchant_FLIGHT_KILLER_1", "=", "0" ] } ]
      },
      {
        "if": { "npc_has_flag": "random_enchant_FLIGHT_KILLER_2" },
        "then": [ { "math": [ "u_random_enchant_FLIGHT_KILLER_2", "=", "1" ] } ],
        "else": [ { "math": [ "u_random_enchant_FLIGHT_KILLER_2", "=", "0" ] } ]
      },
      {
        "if": { "npc_has_flag": "random_enchant_FLIGHT_KILLER_3" },
        "then": [ { "math": [ "u_random_enchant_FLIGHT_KILLER_3", "=", "1" ] } ],
        "else": [ { "math": [ "u_random_enchant_FLIGHT_KILLER_3", "=", "0" ] } ]
      },
      {
        "if": { "npc_has_flag": "random_enchant_DRAIN_HP_1" },
        "then": [ { "math": [ "u_random_enchant_DRAIN_HP_1", "=", "1" ] } ],
        "else": [ { "math": [ "u_random_enchant_DRAIN_HP_1", "=", "0" ] } ]
      },
      {
        "if": { "npc_has_flag": "random_enchant_DRAIN_HP_2" },
        "then": [ { "math": [ "u_random_enchant_DRAIN_HP_2", "=", "1" ] } ],
        "else": [ { "math": [ "u_random_enchant_DRAIN_HP_2", "=", "0" ] } ]
      },
      {
        "if": { "npc_has_flag": "random_enchant_DRAIN_HP_3" },
        "then": [ { "math": [ "u_random_enchant_DRAIN_HP_3", "=", "1" ] } ],
        "else": [ { "math": [ "u_random_enchant_DRAIN_HP_3", "=", "0" ] } ]
      },
      {
        "if": { "npc_has_flag": "random_enchant_DRAIN_MANA_1" },
        "then": [ { "math": [ "u_random_enchant_DRAIN_MANA_1", "=", "1" ] } ],
        "else": [ { "math": [ "u_random_enchant_DRAIN_MANA_1", "=", "0" ] } ]
      },
      {
        "if": { "npc_has_flag": "random_enchant_DRAIN_MANA_2" },
        "then": [ { "math": [ "u_random_enchant_DRAIN_MANA_2", "=", "1" ] } ],
        "else": [ { "math": [ "u_random_enchant_DRAIN_MANA_2", "=", "0" ] } ]
      },
      {
        "if": { "npc_has_flag": "random_enchant_DRAIN_MANA_3" },
        "then": [ { "math": [ "u_random_enchant_DRAIN_MANA_3", "=", "1" ] } ],
        "else": [ { "math": [ "u_random_enchant_DRAIN_MANA_3", "=", "0" ] } ]
      },
      {
        "if": { "npc_has_flag": "random_enchant_STOP_TIME_1" },
        "then": [ { "math": [ "u_random_enchant_STOP_TIME_1", "=", "1" ] } ],
        "else": [ { "math": [ "u_random_enchant_STOP_TIME_1", "=", "0" ] } ]
      },
      {
        "if": { "npc_has_flag": "random_enchant_STOP_TIME_2" },
        "then": [ { "math": [ "u_random_enchant_STOP_TIME_2", "=", "1" ] } ],
        "else": [ { "math": [ "u_random_enchant_STOP_TIME_2", "=", "0" ] } ]
      },
      {
        "if": { "npc_has_flag": "random_enchant_STOP_TIME_3" },
        "then": [ { "math": [ "u_random_enchant_STOP_TIME_3", "=", "1" ] } ],
        "else": [ { "math": [ "u_random_enchant_STOP_TIME_3", "=", "0" ] } ]
      }
    ]
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_random_enchant_set_flag_after",
    "effect": [
      {
        "if": { "math": [ "u_random_enchant_ZOMBIE_KILLER_1", "==", "1" ] },
        "then": [ { "npc_set_flag": "random_enchant_ZOMBIE_KILLER_1" } ]
      },
      {
        "if": { "math": [ "u_random_enchant_ZOMBIE_KILLER_2", "==", "1" ] },
        "then": [ { "npc_set_flag": "random_enchant_ZOMBIE_KILLER_2" } ]
      },
      {
        "if": { "math": [ "u_random_enchant_ZOMBIE_KILLER_3", "==", "1" ] },
        "then": [ { "npc_set_flag": "random_enchant_ZOMBIE_KILLER_3" } ]
      },
      {
        "if": { "math": [ "u_random_enchant_FLIGHT_KILLER_1", "==", "1" ] },
        "then": [ { "npc_set_flag": "random_enchant_FLIGHT_KILLER_1" } ]
      },
      {
        "if": { "math": [ "u_random_enchant_FLIGHT_KILLER_2", "==", "1" ] },
        "then": [ { "npc_set_flag": "random_enchant_FLIGHT_KILLER_2" } ]
      },
      {
        "if": { "math": [ "u_random_enchant_FLIGHT_KILLER_3", "==", "1" ] },
        "then": [ { "npc_set_flag": "random_enchant_FLIGHT_KILLER_3" } ]
      },
      {
        "if": { "math": [ "u_random_enchant_DRAIN_HP_1", "==", "1" ] },
        "then": [ { "npc_set_flag": "random_enchant_DRAIN_HP_1" } ]
      },
      {
        "if": { "math": [ "u_random_enchant_DRAIN_HP_2", "==", "1" ] },
        "then": [ { "npc_set_flag": "random_enchant_DRAIN_HP_2" } ]
      },
      {
        "if": { "math": [ "u_random_enchant_DRAIN_HP_3", "==", "1" ] },
        "then": [ { "npc_set_flag": "random_enchant_DRAIN_HP_3" } ]
      },
      {
        "if": { "math": [ "u_random_enchant_DRAIN_MANA_1", "==", "1" ] },
        "then": [ { "npc_set_flag": "random_enchant_DRAIN_MANA_1" } ]
      },
      {
        "if": { "math": [ "u_random_enchant_DRAIN_MANA_2", "==", "1" ] },
        "then": [ { "npc_set_flag": "random_enchant_DRAIN_MANA_2" } ]
      },
      {
        "if": { "math": [ "u_random_enchant_DRAIN_MANA_3", "==", "1" ] },
        "then": [ { "npc_set_flag": "random_enchant_DRAIN_MANA_3" } ]
      },
      {
        "if": { "math": [ "u_random_enchant_STOP_TIME_1", "==", "1" ] },
        "then": [ { "npc_set_flag": "random_enchant_STOP_TIME_1" } ]
      },
      {
        "if": { "math": [ "u_random_enchant_STOP_TIME_2", "==", "1" ] },
        "then": [ { "npc_set_flag": "random_enchant_STOP_TIME_2" } ]
      },
      {
        "if": { "math": [ "u_random_enchant_STOP_TIME_3", "==", "1" ] },
        "then": [ { "npc_set_flag": "random_enchant_STOP_TIME_3" } ]
      }
    ]
  }
]
